<?xml version="1.0"?>
<project default="iapi" basedir="../../../../../..">

    <!-- Set property lib dir -->
    <property name="properties.dir" value="tools/ant/properties"/>
    <!-- Significant dirs -->
    <property file="${properties.dir}/dirs.properties"/>
    <!-- Compiler settings -->
    <property file="${properties.dir}/modern.properties"/>
    <!-- Compile-time classpath properties files -->
    <property file="${properties.dir}/extrapath.properties"/>

    <!-- Targets -->
    <target name="iapi" >
        <ant dir="${derby.engine.dir}/iapi/reference"/>

        <javac
                source="1.7"
                target="1.7"
                bootclasspath="${empty}"
                nowarn="on"
                debug="${debug}"
                depend="${depend}"
                deprecation="${deprecation}"
                optimize="${optimize}"
                proceed="${proceed}"
                verbose="${verbose}"
                srcdir="${derby.engine.src.dir}"
                destdir="${out.dir}">
            <classpath>
                <pathelement path="${main.classpath}"/>
            </classpath>
            <include name="${splice.package}/iapi/error/**"/>
        </javac>

        <ant dir="${derby.engine.dir}/iapi/types"/>
        <ant dir="${derby.engine.dir}/iapi/util"/>
        <ant dir="${derby.engine.dir}/iapi/db"/>
        <ant dir="${derby.engine.dir}/iapi/jdbc"/>

        <ant dir="${derby.engine.dir}/iapi/services"/>
        <ant dir="${derby.engine.dir}/iapi/store"/>
        <ant dir="${derby.engine.dir}/iapi/sql"/>
    </target>



</project>
