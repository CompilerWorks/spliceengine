<?xml version="1.0"?>
<project default="compile" basedir="../../../../../../..">

  <!-- Set property lib dir -->
  <property name="properties.dir" value="tools/ant/properties"/>
  <!-- Significant dirs -->
  <property file="${properties.dir}/dirs.properties"/>
  <!-- Compiler settings -->
  <property file="${properties.dir}/defaultcompiler.properties"/>
  <property file="${properties.dir}/${build.compiler}.properties"/>
  <!-- Compile-time classpath properties files -->
  <property file="${properties.dir}/extrapath.properties"/>
  <property file="${properties.dir}/compilepath.properties"/>

  <property name="cur.dir" value="iapi/jdbc"/>

  <target name="compile" depends="compile_iapi_jdbc_jdbc3, compile_jdbc4"/>

  <target name="compile_iapi_jdbc_jsr169">
	    <javac
							source="${compilerLevel16}"
							target="${compilerLevel16}"
      bootclasspath="${empty}"
      nowarn="on"
      debug="${debug}"
      depend="${depend}"
      deprecation="${deprecation}"
      optimize="${optimize}"
      proceed="${proceed}"
      verbose="${verbose}"
      srcdir="${derby.engine.src.dir}"
      destdir="${out.dir}">
      <classpath>
        <pathelement path="${compile.classpath}"/>
      </classpath>
      <include name="${splice.package}/iapi/jdbc/DRDAServerStarter.java"/>
      <exclude name="${splice.package}/${cur.dir}/BrokeredConnection.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredConnection30.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredConnection40.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredPreparedStatement.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredPreparedStatement30.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredPreparedStatement40.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredCallableStatement.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredCallableStatement30.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredCallableStatement40.java"/>
	  <exclude name="${splice.package}/${cur.dir}/BrokeredStatement.java"/>
      <exclude name="${splice.package}/${cur.dir}/BrokeredStatement40.java"/>
      <exclude name="${splice.package}/${cur.dir}/EngineCallableStatement40.java"/>
      <exclude name="${splice.package}/${cur.dir}/EngineConnection40.java"/>
      <exclude name="${splice.package}/${cur.dir}/FailedProperties40.java"/>
      <exclude name="${splice.package}/${cur.dir}/ResourceAdapter.java"/>
    </javac>
  </target>

  <target name="compile_iapi_jdbc_jdbc2" depends="compile_iapi_jdbc_stmt,compile_iapi_jdbc_jsr169">
      <javac
							source="${compilerLevel16}"
							target="${compilerLevel16}"
      bootclasspath="${empty}"
      nowarn="on"
      debug="${debug}"
      depend="${depend}"
      deprecation="${deprecation}"
      optimize="${optimize}"
      proceed="${proceed}"
      verbose="${verbose}"
      srcdir="${derby.engine.src.dir}"
      destdir="${out.dir}">
      <classpath>
        <pathelement path="${java16compile.classpath}"/>
      </classpath>
	  <include name="${splice.package}/${cur.dir}/BrokeredConnection.java"/>
	  <include name="${splice.package}/${cur.dir}/BrokeredPreparedStatement.java"/>
	  <include name="${splice.package}/${cur.dir}/BrokeredCallableStatement.java"/>
    </javac>
  </target>

  <target name="compile_iapi_jdbc_stmt">
      <javac
							source="${compilerLevel16}"
							target="${compilerLevel16}"
      bootclasspath="${empty}"
      nowarn="on"
      debug="${debug}"
      depend="${depend}"
      deprecation="${deprecation}"
      optimize="${optimize}"
      proceed="${proceed}"
      verbose="${verbose}"
      srcdir="${derby.engine.src.dir}"
      destdir="${out.dir}">
      <classpath>
        <pathelement path="${java16compile.classpath}"/>
      </classpath>
	  <include name="${splice.package}/${cur.dir}/BrokeredStatement.java"/>
    </javac>
  </target>

  <target name="compile_iapi_jdbc_jdbc3" depends="compile_iapi_jdbc_jdbc2">
      <javac
							source="${compilerLevel16}"
							target="${compilerLevel16}"
      bootclasspath="${empty}"
      nowarn="on"
      debug="${debug}"
      depend="${depend}"
      deprecation="${deprecation}"
      optimize="${optimize}"
      proceed="${proceed}"
      verbose="${verbose}"
      srcdir="${derby.engine.src.dir}"
      destdir="${out.dir}">
      <classpath>
        <pathelement path="${java16compile.classpath}"/>
      </classpath>
	  <include name="${splice.package}/${cur.dir}/BrokeredConnection30.java"/>
	  <include name="${splice.package}/${cur.dir}/BrokeredPreparedStatement30.java"/>
	  <include name="${splice.package}/${cur.dir}/BrokeredCallableStatement30.java"/>
      <include name="${splice.package}/${cur.dir}/XAResourceAdapter.java"/>
	  <include name="${splice.package}/${cur.dir}/ResourceAdapter.java"/>
    </javac>
  </target>

  <target name="compile_jdbc4" >
      <javac
          source="${compilerLevel16}"
          target="${compilerLevel16}"
          bootclasspath="${empty}"
          nowarn="on"
          debug="${debug}"
          depend="${depend}"
          deprecation="${deprecation}"
          optimize="${optimize}"
          proceed="${proceed}"
          verbose="${verbose}"
          srcdir="${derby.engine.src.dir}"
          destdir="${out.dir}">
          <classpath>
              <pathelement path="${java16compile.classpath}"/>
          </classpath>
          <include name="${splice.package}/${cur.dir}/BrokeredConnection40.java"/>
          <include name="${splice.package}/${cur.dir}/BrokeredStatement40.java"/>
          <include name="${splice.package}/${cur.dir}/BrokeredPreparedStatement40.java"/>
          <include name="${splice.package}/${cur.dir}/BrokeredCallableStatement40.java"/>
          <include name="${splice.package}/${cur.dir}/EngineCallableStatement40.java"/>
          <include name="${splice.package}/${cur.dir}/EngineConnection40.java"/>
          <include name="${splice.package}/${cur.dir}/FailedProperties40.java"/>
      </javac>
  </target> 

</project>

